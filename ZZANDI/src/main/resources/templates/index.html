<!--메인 페이지-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- head -->
<div th:replace="layout/head.html :: head"></div>

<body>

    <!-- header -->
    <section th:replace="layout/header.html :: header"></section>
    <div class="alert alert-warning" role="alert" th:if="${user != null && !user.userEmailVerified}">
        ZZANDI 가입을 완료하려면 <a href="#" th:href="@{/check-email(email=${user.userEmail})}" class="alert-link">계정 인증 이메일을 확인</a>하세요.
    </div>

    <div class="container" style="height: 700px;">
        <h1> ZZANDI TEST </h1>
        <a th:href="@{/user/profile}">
            <div sec:authorize="isAuthenticated()">
                <img th:if="${!#strings.isEmpty(user?.userprofileUrl)}" th:src="${user.userprofileUrl}"
                     width="70" height="70" class="rounded border"/>
                <div th:text="${user.userNickname}"></div>
        </div>
        </a>

        <div>
            <a href="/study/create"> Create Study </a>
        </div>

        <div>
            <a href="/study/list"> Study List </a>
        </div>
        <div>
            <a href="/todo/list">ToDoList</a>
        </div>

        <div sec:authorize="isAnonymous()">
            <a href="/user/login">로그인</a>
        </div>

        <div sec:authorize="isAnonymous()">
            <a href="/user/join">회원 가입</a>
        </div>

        <div sec:authorize="isAuthenticated()">
            <a href="/user/logout">로그아웃</a>
        </div>

        <div sec:authorize="hasAuthority('ROLE_ADMIN')">
            <a href="/admin">관리자</a>
        </div>
    </div>

    <!-- footer -->
    <div th:replace="layout/footer.html :: footer"></div>

    <!-- tail -->
    <div th:replace="layout/tail.html :: tail"></div>


</body>
</html>